<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>
        Main
    </title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/montage-serialization">
    {
        "owner": {
            "prototype": "ui/main.reel",
            "properties": {
                "element": {"#": "main"}
            },
            "bindings": {
                "classList.has('Main--showNavigation')": {"<-": "showNav"}
            }
        },
        "appliancesMaterial": {
            "prototype": "glTF-webgl-viewer/runtime/material",
            "properties": {
                "id": "material_0_1_0-effect",
                "scene": {"@": "roomScene"}
            }
        },
        "appliancesNode": {
            "prototype": "glTF-webgl-viewer/runtime/node",
            "properties": {
                "id": "node-fridge",
                "scene": {"@": "roomScene"}
            }
        },
        "backgroundMaterial": {
            "prototype": "glTF-webgl-viewer/runtime/material",
            "properties": {
                "id": "background",
                "scene": {"@": "roomScene"}
            }
        },
        "callBack": {
            "prototype": "ui/cards/call-back.reel",
            "properties": {
                "element": {"#": "callBack"}
            },
            "bindings": {
                "configuration": {"<-": "@owner.configuration"}
            }
        },
        "configurationPanels": {
            "prototype": "montage/ui/substitution.reel",
            "properties": {
                "element": {"#": "configurationPanels"}
            },
            "bindings": {
                "switchValue": {"<-": "@substitutionDelay.switchValue[@panelFlow.objectAtCurrentIteration.panelKey]"}
            }
        },
        "countersPanel": {
            "prototype": "ui/cards/countertops.reel",
            "properties": {
                "element": {"#": "countersPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('counters')"}
            }
        },
        "countertopMaterial": {
            "prototype": "glTF-webgl-viewer/runtime/material",
            "properties": {
                "id": "cuisine",
                "scene": {"@": "roomScene"}
            }
        },
        "counterViewpoint": {
            "prototype": "glTF-webgl-viewer/runtime/node",
            "properties": {
                "id": "node-LookAtBar",
                "scene": {"@": "roomScene"}
            }
        },
        "flowTranslateStartListener": {
            "prototype": "montage/core/event/action-event-listener",
            "properties": {
                "action": "pause",
                "handler": {"@": "roomView"}
            }
        },
        "hvacMaterial": {
            "prototype": "glTF-webgl-viewer/runtime/material",
            "properties": {
                "id": "option01",
                "image": "",
                "opacity": "0",
                "scene": {"@": "roomScene"}
            },
            "bindings": {
                "filterColor": {"<-": "[1, 1, 1, 0]"}
            }
        },
        "introductionPanel": {
            "prototype": "ui/cards/introduction.reel",
            "properties": {
                "element": {"#": "introductionPanel"}
            }
        },
        "kitchenPanel": {
            "prototype": "ui/cards/kitchen.reel",
            "properties": {
                "element": {"#": "kitchenPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('kitchen')"}
            }
        },
        "kitchenViewpoint": {
            "prototype": "glTF-webgl-viewer/runtime/node",
            "properties": {
                "id": "node-LookAtFridge",
                "scene": {"@": "roomScene"}
            }
        },
        "laundryPanel": {
            "prototype": "ui/cards/laundry.reel",
            "properties": {
                "element": {"#": "laundryPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('laundry')"}
            }
        },
        "navigation": {
            "prototype": "ui/navigation.reel",
            "properties": {
                "element": {"#": "navigation"}
            },
            "bindings": {
                "panels": {"<-": "@owner.cards"}
            },
            "listeners": [
                {
                    "type": "action",
                    "listener": {"@": "owner"}
                }
            ]
        },
        "navToggle": {
            "prototype": "digit/ui/checkbox.reel",
            "properties": {
                "element": {"#": "navToggle"}
            },
            "bindings": {
                "checked": {"<->": "@owner.showNav"}
            }
        },
        "overview": {
            "prototype": "ui/overview.reel",
            "properties": {
                "element": {"#": "overview"}
            },
            "bindings": {
                "configuration": {"<-": "@owner.configuration"}
            }
        },
        "panelFlow": {
            "prototype": "ui/panel-flow.reel",
            "properties": {
                "element": {"#": "panelFlow"}
            },
            "bindings": {
                "content": {"<-": "@owner.cards"}
            },
            "listeners": [
                {
                    "type": "flowTranslateStart",
                    "listener": {"@": "flowTranslateStartListener"}
                }
            ]
        },
        "rideViewpoint": {
            "prototype": "glTF-webgl-viewer/runtime/node",
            "properties": {
                "id": "node-camera001",
                "scene": {"@": "roomScene"}
            }
        },
        "roomScene": {
            "prototype": "glTF-webgl-viewer/runtime/scene",
            "properties": {
                "path": "assets/3d/loft2/loft3.json"
            }
        },
        "roomView": {
            "prototype": "glTF-webgl-viewer/ui/view.reel",
            "properties": {
                "element": {"#": "roomView"},
                "height": "768",
                "scene": {"@": "roomScene"},
                "viewPoint": {"@": "rideViewpoint"},
                "width": "674"
            }
        },
        "solarPanels": {
            "prototype": "ui/cards/solar-panels.reel",
            "properties": {
                "element": {"#": "solarPanels"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('solarPanels')"}
            }
        },
        "staircaseMaterial": {
            "prototype": "glTF-webgl-viewer/runtime/material",
            "properties": {
                "id": "escalier",
                "image": "dark-stairs.jpg",
                "opacity": "1",
                "scene": {"@": "roomScene"}
            }
        },
        "staircasePanel": {
            "prototype": "ui/cards/staircase.reel",
            "properties": {
                "element": {"#": "staircasePanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('staircase')"}
            }
        },
        "staircaseViewpoint": {
            "prototype": "glTF-webgl-viewer/runtime/node",
            "properties": {
                "id": "node-LookAtStairs",
                "scene": {"@": "roomScene"}
            }
        },
        "stairsMaterial": {
            "prototype": "glTF-webgl-viewer/runtime/material",
            "properties": {
                "id": "escalier",
                "image": "wood-stairs.jpg",
                "opacity": "1",
                "scene": {"@": "roomScene"}
            }
        },
        "substitutionDelay": {
            "prototype": "core/substitution-delay",
            "properties": {
                "delay": 5000,
                "enabled": true,
                "excluded": [
                    "introduction"
                ]
            },
            "bindings": {
                "switchValues": {"<-": "@owner.cards.map{panelKey}"}
            }
        },
        "thermostatPanel": {
            "prototype": "ui/cards/thermostat.reel",
            "properties": {
                "element": {"#": "thermostatPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('thermostat')"}
            }
        },
        "windowPanel": {
            "prototype": "ui/cards/window.reel",
            "properties": {
                "element": {"#": "windowPanel"}
            },
            "bindings": {
                "configurationSet": {"<-": "@owner.configuration.configurationMap.get('window')"}
            }
        },
        "windowViewpoint": {
            "prototype": "glTF-webgl-viewer/runtime/node",
            "properties": {
                "id": "node-LookAtWindow",
                "scene": {"@": "roomScene"}
            }
        }
    }
    </script>
</head>
<body>
    <div data-montage-id="main" class="Main">
        <button data-montage-id="navToggle" class="Main-navToggle"></button>
        <section class="Main-navigation" data-montage-id="navigation"></section>
        <section class="Main-viewport" data-montage-skin="light">
            <div class="Main-room">
                <div data-montage-id="roomView" class="Main-colladaView"></div>
                <div data-montage-id="overview" class="Main-overview"></div>
            </div>
        </section>
        <section class="Main-configuration">
            <ul data-montage-id="panelFlow" class="Main-panel">
                <li data-montage-id="configurationPanels" class="Main-cards">
                    <div data-arg="introduction" data-montage-id="introductionPanel"></div>
                    <div data-arg="staircase" data-montage-id="staircasePanel"></div>
                    <div data-arg="thermostat" data-montage-id="thermostatPanel"></div>
                    <div data-arg="kitchen" data-montage-id="kitchenPanel"></div>
                    <div data-arg="laundry" data-montage-id="laundryPanel"></div>
                    <div data-arg="solarPanels" data-montage-id="solarPanels"></div>
                    <div data-arg="window" data-montage-id="windowPanel"></div>
                    <div data-arg="counters" data-montage-id="countersPanel"></div>
                    <div data-arg="callBack" data-montage-id="callBack"></div>
                </li>
            </ul>
        </section>
    </div>
</body>
</html>